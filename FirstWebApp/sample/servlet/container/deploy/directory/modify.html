<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Modify users</title>
</head>

<script>
    xmlhttp = new XMLHttpRequest();
    function getData(){
        xmlhttp.onreadystatechange = function (){
            if(xmlhttp.readyState == 4){
                alert(xmlhttp.responseText);
            }
        }
        let sessiontoken = JSON.parse(sessionStorage.getItem('token'));
        var myObj = {   username:document.getElementById("username").value,
                        tokenId:sessiontoken,
                        email:document.getElementById("email").value,
                        name:document.getElementById("name").value,
                        profile:document.getElementById("profile").value,
                        phone:document.getElementById("phone").value,
                        cellPhone:document.getElementById("cellPhone").value,
                        address:document.getElementById("address").value,
                        addressC:document.getElementById("addressC").value,
                        cp:document.getElementById("cp1").value + "-" + document.getElementById("cp2").value,
                        nif:document.getElementById("nif").value,
                        state:document.getElementById("state").value,
                        role:document.getElementById("role").value};
        var myJson = JSON.stringify(myObj);


        xmlhttp.open("POST", "https://modified-talon-344017.appspot.com/rest/ti/modify", true);
        xmlhttp.setRequestHeader("Content-Type", "application/json");
        xmlhttp.send(myJson);
    }
</script>

<body>

<p>User fields:</p>
<br>
<label>Username</label>
<input type="text" id="username">

<br>
<label>Email</label>
<input type="text" id="email">

<br>
<label>Name</label>
<input type="text" id="name">

<br>
<label>Profile</label>
<select id="profile">
    <option value="">-</option>
    <option value="private">Private</option>
    <option value="public">Public</option>
</select>

<br>
<label>Phone number</label>
<input type="text" id="phone">

<br>
<label>Cell Number</label>
<input type="text" id="cellPhone">

<br>
<label>Address</label>
<input type="text" id="address">

<br>
<label>Complementary Address</label>
<input type="text" id="addressC">

<br>
<label>Postal Code</label>
<input type="text" id="cp1" maxlength="4">
<label>-</label>
<input type="text" id="cp2" maxlength="3">

<br>
<label>NIF</label>
<input type="text" id="nif">


<br>
<label>User state</label>
<select id="state">
    <option value="">-</option>
    <option value="ACTIVE">Active</option>
    <option value="INACTIVE">Inactive</option>
</select>

<br>
<label>User role</label>
<select id="role">
    <option value="USER">USER</option>
    <option value="GBO">GBO</option>
    <option value="GS">GS</option>
    <option value="SU">SU</option>
</select>

<br>
<br>
<br>
<input type="button" value="Modify user" onclick="getData();"/>

</body>
</html>